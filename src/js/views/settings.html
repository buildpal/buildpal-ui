<div class="oj-hybrid-padding">

<div class="oj-flex oj-sm-flex-direction-column">
  <div class="oj-sm-align-self-flex-end oj-flex-item list-actions">
    <button data-bind="click: onAddSecret, ojComponent: { component: 'ojButton',
                                                    label: 'Add New Secret' }">
    </button>
  </div>
</div>

<ul id="ulSecrets" data-bind="ojComponent: { component: 'ojListView',
                                               data: dsSecrets,
                                               item: { template: 'secret_template' },
                                               selectionMode: 'none',
                                               translations: {
                                                 msgNoData: 'No secrets found.'
                                               } 
                                             }">
</ul>

</div>

<script type="text/html" id="secret_template">
  <li class="oj-panel-shadow-sm buildpal-list-item">
    <div class="oj-flex">
      <div class="icon-status-holder oj-sm-align-self-center">
          <span class="oj-navigationlist-item-icon buildpal-icon-font-24" data-bind="css: 'icon-'"></span>
      </div>
      <div class="oj-flex-item">
        <div class="oj-flex row">
          <div class="oj-lg-12">
            <span class="name" data-bind="text: name"></span>              
          </div>
        </div>
        <div class="oj-flex row">
          <div class="oj-lg-4 oj-md-4 oj-sm-12">
            <span class="secondary" data-bind="text: $parent.moment(utcLastModifiedDate).fromNow()"></span>
            <span class="fineprint" data-bind="text: ' by ' + createdBy"></span>              
          </div>
          <div class="oj-lg-4 oj-md-4 oj-sm-12">              
              <span class="secondary"></span>
          </div>                  
        </div>              
      </div>
      <div class="actions oj-sm-align-self-center">
        <a href="#" data-bind="click: $parent.onEditSecret"><i class="material-icons action">edit</i></a>
        <a href="#" data-bind="click: $parent.onDeleteSecret"><i class="material-icons action">delete</i></a>
      </div>  
    </div>        
  </li>
</script>

<div id="dlgSecret_Delete" style="display:none" title="Delete Secret"
     data-bind="ojComponent: { component: 'ojDialog',
                               initialVisibility: 'hide',
                               rootAttributes: { style: 'width: 80vw; '}
                             }">
  <div class="oj-dialog-body">
    <span>Are you sure you want to delete </span>  
    <span style="font-weight: 700; font-style: italic;" data-bind="text: currentSecret.name() + '?'"></span>
  </div>
  <div class="oj-dialog-footer">
   <button data-bind=" click: onDeleteSecretConfirm, ojComponent: {component: 'ojButton', label: 'Delete'}"> </button>
   <button data-bind="click: onDeleteSecretCancel, ojComponent: {component: 'ojButton', label: 'Cancel'}"> </button>
  </div>
</div>
